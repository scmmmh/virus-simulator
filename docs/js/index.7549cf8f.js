(function(t){function e(e){for(var a,r,o=e[0],u=e[1],c=e[2],p=0,f=[];p<o.length;p++)r=o[p],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&f.push(s[r][0]),s[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);l&&l(e);while(f.length)f.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={index:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/virus-simulator/";var o=("undefined"!=typeof self?self:this)["webpackJsonp"]=("undefined"!=typeof self?self:this)["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"54ff":function(t,e,n){var a=n("3d67"),s=["generatePopulation"];t.exports=function(){var t=new Worker(n.p+"f1e5b6f13e8e6541cf7d.worker.js",{name:"[hash].worker.js"});return a(t,s),t}},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[n("div",{staticClass:"d-flex align-center"},[n("v-btn",{attrs:{to:"/",text:""}},[n("v-icon",[t._v("mdi-chart-bell-curve")]),n("span",{staticClass:"ml-2"},[t._v("Virus Simulator")])],1),n("v-btn",{attrs:{to:"/settings",text:""}},[n("v-icon",[t._v("mdi-cogs")]),n("span",{staticClass:"ml-2"},[t._v("Settings")])],1)],1),n("v-spacer"),n("v-btn",{attrs:{href:"https://github.com/scmmmh/viral-simulator",target:"_blank",text:""}},[n("span",{staticClass:"mr-2"},[t._v("Source Code")]),n("v-icon",[t._v("mdi-github")])],1)],1),n("v-content",[n("v-container",{attrs:{fluid:""}},[n("router-view")],1)],1)],1)},i=[],r=n("d4ec"),o=n("2caf"),u=n("262e"),c=n("9ab4"),l=n("60a3"),p=function(t){Object(u["a"])(n,t);var e=Object(o["a"])(n);function n(){return Object(r["a"])(this,n),e.apply(this,arguments)}return n}(l["b"]);p=Object(c["a"])([Object(l["a"])({components:{}})],p);var f=p,v=f,b=n("2877"),d=n("6544"),m=n.n(d),g=n("7496"),h=n("40dc"),y=n("8336"),I=n("a523"),x=n("a75b"),j=n("132d"),O=n("2fa4"),S=Object(b["a"])(v,s,i,!1,null,null,null),k=S.exports;m()(S,{VApp:g["a"],VAppBar:h["a"],VBtn:y["a"],VContainer:I["a"],VContent:x["a"],VIcon:j["a"],VSpacer:O["a"]});var V=n("8c4f"),$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-toolbar",{attrs:{dense:""}},[t.isRunning?[n("v-btn",{attrs:{text:""}},[n("span",[t._v("Simulation Running")]),n("v-icon",[t._v("mdi-run-fast")])],1),n("v-spacer"),n("span",{staticClass:"mr-2"},[t._v(t._s(t.stepLabel))]),n("v-progress-circular",{attrs:{value:t.progress,size:"24",width:"2"}})]:n("v-btn",{attrs:{text:""},on:{click:t.runSimulation}},[n("span",[t._v("Start")]),n("v-icon",[t._v("mdi-run")])],1)],2),n("v-container",[n("v-row",[n("v-col",[n("virus-stats-component")],1),n("v-col",[n("population-stats")],1)],1)],1)],1)},w=[],_=(n("4160"),n("3ca3"),n("159b"),n("ddb0"),n("96cf"),n("1da1")),C=n("bee2"),M=n("54ff"),P=n.n(M),L=n("d734"),B=n.n(L),R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("Population Overview")]),n("v-data-table",{attrs:{headers:t.headers,items:t.items,"hide-default-footer":""}})],1)},T=[],z=(n("b680"),n("3db5")),N=function(t){Object(u["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.headers=[{text:"Age Band",value:"ageBand",sortable:!1},{text:"Number of people",value:"count"},{text:"%",value:"percentage"}],t}return Object(C["a"])(n,[{key:"items",get:function(){var t=[{limit:10,ageBand:"< 10",count:"-",counts:[],percentage:"-",percentages:[]},{limit:18,ageBand:"10 - 17",count:"-",counts:[],percentage:"-",percentages:[]},{limit:26,ageBand:"18 - 25",count:"-",counts:[],percentage:"-",percentages:[]},{limit:36,ageBand:"26 - 35",count:"-",counts:[],percentage:"-",percentages:[]},{limit:46,ageBand:"36 - 45",count:"-",counts:[],percentage:"-",percentages:[]},{limit:56,ageBand:"46 - 55",count:"-",counts:[],percentage:"-",percentages:[]},{limit:66,ageBand:"56 - 65",count:"-",counts:[],percentage:"-",percentages:[]},{limit:76,ageBand:"66 - 75",count:"-",counts:[],percentage:"-",percentages:[]},{limit:86,ageBand:"76 - 85",count:"-",counts:[],percentage:"-",percentages:[]},{limit:200,ageBand:"> 85",count:"-",counts:[],percentage:"-",percentages:[]}];this.$store.state.populations.forEach((function(e){for(var n=0;n<t.length;n++)t[n].counts.push(0);e.forEach((function(e){for(var n=0;n<t.length;n++)if(e.age<t[n].limit){t[n].counts[t[n].counts.length-1]++;break}}));for(var a=0;a<t.length;a++)t[a].percentages.push(100/e.length*t[a].counts[t[a].counts.length-1])}));for(var e=0;e<t.length;e++)t[e].counts.length>0&&(t[e].count=Math.round(Object(z["a"])(t[e].counts))+" (± "+Math.round(Object(z["b"])(t[e].counts))+")",t[e].percentage=Object(z["a"])(t[e].percentages).toFixed(2)+"% (± "+Object(z["b"])(t[e].percentages).toFixed(2)+"%)");return t}}]),n}(l["b"]);N=Object(c["a"])([Object(l["a"])({components:{}})],N);var D=N,E=D,W=n("b0af"),A=n("99d9"),F=n("8fea"),J=Object(b["a"])(E,R,T,!1,null,null,null),G=J.exports;m()(J,{VCard:W["a"],VCardTitle:A["a"],VDataTable:F["a"]});var H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("Virus Spread")]),n("v-data-table",{attrs:{headers:t.headers,items:t.items,"items-per-page":10}})],1)},Y=[],q=(n("d81d"),function(t){Object(u["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.headers=[{text:"Day",value:"day",sortable:!1},{text:"New Infections",value:"newInfected"},{text:"Total Infected",value:"infected"},{text:"Total Infectuous",value:"infectuous"}],t}return Object(C["a"])(n,[{key:"items",get:function(){return this.$store.state.virusStats.map((function(t){return{day:t.day,newInfected:t.stats.length>0?Math.round(Object(z["a"])(t.stats.map((function(t){return t.newInfected}))))+" (± "+Math.round(Object(z["b"])(t.stats.map((function(t){return t.newInfected}))))+")":"-",infected:t.stats.length>0?Math.round(Object(z["a"])(t.stats.map((function(t){return t.infected}))))+" (± "+Math.round(Object(z["b"])(t.stats.map((function(t){return t.infected}))))+")":"-",infectuous:t.stats.length>0?Math.round(Object(z["a"])(t.stats.map((function(t){return t.infectuous}))))+" (± "+Math.round(Object(z["b"])(t.stats.map((function(t){return t.infectuous}))))+")":"-"}}))}}]),n}(l["b"]));q=Object(c["a"])([Object(l["a"])({components:{}})],q);var K=q,Q=K,U=Object(b["a"])(Q,H,Y,!1,null,null,null),X=U.exports;m()(U,{VCard:W["a"],VCardTitle:A["a"],VDataTable:F["a"]});var Z=function(t){Object(u["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.value=-1,t.populationWorker=P()(),t.spreadWorker=B()(),t.population=null,t}return Object(C["a"])(n,[{key:"runSimulation",value:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,n,a,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.$store.commit("setRunning",{running:!0,step:0,stepLabel:"Starting up"}),this.$store.commit("clearPopulations"),this.$store.commit("clearVirusStats"),e=0;case 4:if(!(e<this.$store.state.settings.simulation.iterations)){t.next=20;break}return this.$store.commit("setRunning",{running:!0,step:e*(this.$store.state.settings.simulation.length+1),stepLabel:"Generating population #"+(e+1)}),t.next=8,this.populationWorker.generatePopulation(this.$store.state.settings.population,this.$store.state.settings.virus);case 8:n=t.sent,this.$store.commit("addPopulation",n),a=regeneratorRuntime.mark((function t(a){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i.$store.commit("setRunning",{running:!0,step:e*(i.$store.state.settings.simulation.length+1)+a+1,stepLabel:"Running simulation #"+(e+1)+", day "+(a+1)}),t.next=3,i.spreadWorker.step(n,a,i.$store.state.settings.virus);case 3:n=t.sent,s={infected:0,newInfected:0,infectuous:0},n.forEach((function(t){null!==t.infected&&(s.infected++,t.infected===a&&s.newInfected++,null!==t.incubation&&null!==t.infectuous&&t.incubation<a&&a<=t.infectuous&&s.infectuous++)})),i.$store.commit("addVirusStats",{day:a,stats:s});case 7:case"end":return t.stop()}}),t)})),s=0;case 12:if(!(s<this.$store.state.settings.simulation.length)){t.next=17;break}return t.delegateYield(a(s),"t0",14);case 14:s++,t.next=12;break;case 17:e++,t.next=4;break;case 20:this.$store.commit("setRunning",{running:!1,step:0,stepLabel:"Completed"});case 21:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"isRunning",get:function(){return this.$store.state.running}},{key:"stepLabel",get:function(){return this.$store.state.stepLabel}},{key:"progress",get:function(){return 100/((this.$store.state.settings.simulation.length+1)*this.$store.state.settings.simulation.iterations)*this.$store.state.step}}]),n}(l["b"]);Z=Object(c["a"])([Object(l["a"])({components:{PopulationStats:G,VirusStatsComponent:X}})],Z);var tt=Z,et=tt,nt=n("62ad"),at=n("490a"),st=n("0fd9"),it=n("71d9"),rt=Object(b["a"])(et,$,w,!1,null,null,null),ot=rt.exports;m()(rt,{VBtn:y["a"],VCol:nt["a"],VContainer:I["a"],VIcon:j["a"],VProgressCircular:at["a"],VRow:st["a"],VSpacer:O["a"],VToolbar:it["a"]});var ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-tabs",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab",{key:1},[t._v("Virus Settings")]),n("v-tab",{key:2},[t._v("Simulation Settings")]),n("v-tab",{key:3},[t._v("Population Settings")])],1),n("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tab-item",{key:1},[n("v-card",[n("form",{staticClass:"px-4"},[n("v-container",[n("v-row",{attrs:{cols:"12"}},[n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"Average Incubation Period (Days)",type:"number"},model:{value:t.virusIncubationMean,callback:function(e){t.virusIncubationMean=e},expression:"virusIncubationMean"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"± Incubation Period (Days)",type:"number"},model:{value:t.virusIncubationStd,callback:function(e){t.virusIncubationStd=e},expression:"virusIncubationStd"}})],1)],1),n("v-row",{attrs:{cols:"12"}},[n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"Average Infectuous Period (Days)",type:"number"},model:{value:t.virusInfectuousMean,callback:function(e){t.virusInfectuousMean=e},expression:"virusInfectuousMean"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"± Infectuous Period (Days)",type:"number"},model:{value:t.virusInfectuousStd,callback:function(e){t.virusInfectuousStd=e},expression:"virusInfectuousStd"}})],1)],1)],1)],1)])],1),n("v-tab-item",{key:2},[n("v-card",[n("form",{staticClass:"px-4"},[n("v-container",[n("v-row",{attrs:{cols:"12"}},[n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"Simulation Length (Days)",type:"number"},model:{value:t.simulationLength,callback:function(e){t.simulationLength=e},expression:"simulationLength"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"Number of Iterations",type:"number"},model:{value:t.simulationIterations,callback:function(e){t.simulationIterations=e},expression:"simulationIterations"}})],1)],1)],1)],1)])],1),n("v-tab-item",{key:3},[n("v-card",[n("form",{staticClass:"px-4"},[n("v-container",[n("v-row",{attrs:{cols:"12"}},[n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"Population Size",type:"number"},model:{value:t.populationSize,callback:function(e){t.populationSize=e},expression:"populationSize"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-text-field",{attrs:{label:"Initial Infections",type:"number"},model:{value:t.initialInfected,callback:function(e){t.initialInfected=e},expression:"initialInfected"}})],1)],1)],1)],1)])],1)],1)],1)},ct=[],lt=(n("a9e3"),n("25eb"),function(t){Object(u["a"])(n,t);var e=Object(o["a"])(n);function n(){var t;return Object(r["a"])(this,n),t=e.apply(this,arguments),t.tab=0,t}return Object(C["a"])(n,[{key:"virusIncubationMean",get:function(){return this.$store.state.settings.virus.incubation.mean},set:function(t){this.$store.commit("setVirusIncubationMean",Number.parseInt(t))}},{key:"virusIncubationStd",get:function(){return this.$store.state.settings.virus.incubation.std},set:function(t){this.$store.commit("setVirusIncubationStd",Number.parseInt(t))}},{key:"virusInfectuousMean",get:function(){return this.$store.state.settings.virus.infectuous.mean},set:function(t){this.$store.commit("setVirusInfectuousMean",Number.parseInt(t))}},{key:"virusInfectuousStd",get:function(){return this.$store.state.settings.virus.infectuous.std},set:function(t){this.$store.commit("setVirusInfectuousStd",Number.parseInt(t))}},{key:"simulationLength",get:function(){return this.$store.state.settings.simulation.length},set:function(t){this.$store.commit("setSimulationLength",Number.parseInt(t))}},{key:"simulationIterations",get:function(){return this.$store.state.settings.simulation.iterations},set:function(t){this.$store.commit("setSimulationIterations",Number.parseInt(t))}},{key:"populationSize",get:function(){return this.$store.state.settings.population.size},set:function(t){this.$store.commit("setPopulationSize",Number.parseInt(t))}},{key:"initialInfected",get:function(){return this.$store.state.settings.population.initialInfected},set:function(t){this.$store.commit("setInitialInfected",Number.parseInt(t))}}]),n}(l["b"]));lt=Object(c["a"])([Object(l["a"])({components:{}})],lt);var pt=lt,ft=pt,vt=n("71a3"),bt=n("c671"),dt=n("fe57"),mt=n("aac8"),gt=n("8654"),ht=Object(b["a"])(ft,ut,ct,!1,null,null,null),yt=ht.exports;m()(ht,{VCard:W["a"],VCol:nt["a"],VContainer:I["a"],VRow:st["a"],VTab:vt["a"],VTabItem:bt["a"],VTabs:dt["a"],VTabsItems:mt["a"],VTextField:gt["a"]}),a["a"].use(V["a"]);var It=[{path:"/",name:"Home",component:ot},{path:"/settings",name:"Settings",component:yt}],xt=new V["a"]({routes:It}),jt=xt,Ot=(n("99af"),n("fb6a"),n("2f62"));a["a"].use(Ot["a"]);var St=new Ot["a"].Store({state:{running:!1,step:0,stepLabel:"",populations:[],virusStats:[],settings:{simulation:{length:60,iterations:10},population:{size:1e4,initialInfected:1},virus:{incubation:{mean:5,std:1},infectuous:{mean:3,std:1}}}},mutations:{setVirusIncubationMean:function(t,e){t.settings.virus.incubation.mean=e},setVirusIncubationStd:function(t,e){t.settings.virus.incubation.std=e},setVirusInfectuousMean:function(t,e){t.settings.virus.infectuous.mean=e},setVirusInfectuousStd:function(t,e){t.settings.virus.infectuous.std=e},setSimulationLength:function(t,e){t.settings.simulation.length=e},setSimulationIterations:function(t,e){t.settings.simulation.iterations=e},setPopulationSize:function(t,e){t.settings.population.size=e},setInitialInfected:function(t,e){t.settings.population.initialInfected=e},clearPopulations:function(t){t.populations=[]},addPopulation:function(t,e){t.populations=t.populations.concat([e])},setRunning:function(t,e){t.running=e.running,t.step=e.step,t.stepLabel=e.stepLabel},clearVirusStats:function(t){for(var e=[],n=0;n<t.settings.simulation.length;n++)e.push({day:n,stats:[]});t.virusStats=e},addVirusStats:function(t,e){for(var n=t.virusStats.slice(),a=0;a<n.length;a++)if(n[a].day===e.day){n[a].stats.push(e.stats);break}t.virusStats=n}},actions:{},modules:{}}),kt=n("f309");a["a"].use(kt["a"]);var Vt=new kt["a"]({});a["a"].config.productionTip=!1,new a["a"]({router:jt,store:St,vuetify:Vt,render:function(t){return t(k)}}).$mount("#app")},d734:function(t,e,n){var a=n("3d67"),s=["step"];t.exports=function(){var t=new Worker(n.p+"40a9c1c5f59717eae099.worker.js",{name:"[hash].worker.js"});return a(t,s),t}}});
//# sourceMappingURL=index.7549cf8f.js.map